<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Language DHIS2 <a href="https://travis-ci.org/OpenFn/language-dhis2"><img src="https://travis-ci.org/OpenFn/language-dhis2.svg?branch=master" alt="Build Status"></a></h1>
<p>Language Pack for building expressions and operations for working with
the <a href="http://dhis2.github.io/dhis2-docs/master/en/developer/html/dhis2_developer_manual.html">DHIS2 API</a>.</p>
<h2>Documentation</h2>
<h2>Sample State</h2>
<pre class="prettyprint source lang-json"><code>{
  &quot;configuration&quot;: {
    &quot;username&quot;: &quot;admin&quot;,
    &quot;password&quot;: &quot;district&quot;,
    &quot;hostUrl&quot;: &quot;https://play.dhis2.org/2.35.0&quot;
  },
  &quot;data&quot;: {
    &quot;a&quot;: 1,
    &quot;b&quot;: 2,
  }
}
</code></pre>
<h2>Analytics API</h2>
<h4>Fetch analytics data for PMTCT data over last 6 months.</h4>
<pre class="prettyprint source lang-js"><code>fetchAnalytics({
  query: {
    dimension: [&quot;dx:CYI5LEmm3cG;GDVU1o5rTNF&quot;, &quot;pe:LAST_6_MONTHS&quot;],
    filter: &quot;ou:GHlyx9Pg9mn&quot;,
    displayProperty: &quot;NAME&quot;,
    outputIdScheme: &quot;UID&quot;
  }
});
</code></pre>
<h2>Tracked Entity API</h2>
<h4>Create a new tracked entity instance and enroll them from a CommCare form submission.</h4>
<pre class="prettyprint source lang-js"><code>createTEI({
  &quot;trackedEntityType&quot;: &quot;nEenWmSyUEp&quot;,
  &quot;orgUnit&quot;: &quot;g8upMTyEZGZ&quot;,
  &quot;attributes&quot;: [
    {
      &quot;attribute&quot;: &quot;w75KJ2mc4zz&quot;,
      &quot;value&quot;: dataValue(&quot;form.first_name&quot;)(state)
    },
    {
      &quot;attribute&quot;: &quot;zDhUuAYrxNC&quot;,
      &quot;value&quot;: dataValue(&quot;form.last_name&quot;)(state)
    }
  ],
  &quot;enrollments&quot;: [
    {
        &quot;orgUnit&quot;: &quot;g8upMTyEZGZ&quot;,
        &quot;program&quot;: &quot;IpHINAT79UW&quot;,
        &quot;enrollmentDate&quot;: &quot;2019-04-08&quot;,
        &quot;incidentDate&quot;: &quot;2019-04-08&quot;
     }
   ]
});
</code></pre>
<h2>Events API</h2>
<h4><code>Events API</code> expression</h4>
<pre class="prettyprint source lang-js"><code>event(
  fields(
    field(&quot;program&quot;, &quot;eBAyeGv0exc&quot;),
    field(&quot;orgUnit&quot;, &quot;DiszpKrYNg8&quot;),
    field(&quot;eventDate&quot;, dataValue(&quot;date&quot;)),
    field(&quot;status&quot;, &quot;COMPLETED&quot;),
    field(&quot;storedBy&quot;, &quot;admin&quot;),
    field(&quot;coordinate&quot;, {
      &quot;latitude&quot;: &quot;59.8&quot;,
      &quot;longitude&quot;: &quot;10.9&quot;
    }),
    field(&quot;dataValues&quot;, function(state) {
      return [
        dataElement(&quot;qrur9Dvnyt5&quot;, dataValue(&quot;prop_a&quot;))(state)
        dataElement(&quot;oZg33kd9taw&quot;, dataValue(&quot;prop_b&quot;))(state)
        dataElement(&quot;msodh3rEMJa&quot;, dataValue(&quot;prop_c&quot;))(state)
      ]
    })
  )
)
</code></pre>
<h4>Current <code>fetchEvents API</code> expression (Optional <code>postUrl</code> for a complete fetch)</h4>
<pre class="prettyprint source lang-js"><code>fetchEvents({
  fields: {
    orgUnit: 'DiszpKrYNg8',
    program: 'eBAyeGv0exc',
    endDate: '2016-01-01'
  },
  postUrl: &quot;https://www.openfn.org/inbox/123&quot;
})
</code></pre>
<h4>Reference on how to query and read events https://docs.dhis2.org/2.22/en/developer/html/ch01s15.html#d5e1994</h4>
<h2>Data Values / Data Value Sets API</h2>
<h4>Current <code>DataValueSets API</code> expression</h4>
<pre class="prettyprint source lang-js"><code>dataValueSet({
  dataSet: dataValue(&quot;set&quot;),
  orgUnit: &quot;DiszpKrYNg8&quot;,
  period: &quot;201402&quot;,
  completeData: &quot;2014-03-03&quot;,
  dataValues: [
    dataElement(&quot;f7n9E0hX8qk&quot;, dataValue(&quot;data[0].site_school_number&quot;)),
    dataElement(&quot;Ix2HsbDMLea&quot;, dataValue(&quot;age&quot;)),
    dataElement(&quot;eY5ehpbEsB7&quot;, 30)
  ]
});
</code></pre>
<h4>Current <code>fetchData API</code> expression (Optional <code>postUrl</code> for a complete fetch)</h4>
<pre class="prettyprint source lang-js"><code>fetchData({
  fields: {
    dataSet: 'pBOMPrpg1QX',
    orgUnit: 'DiszpKrYNg8',
    period: '201711'
  },
  postUrl: &quot;https://www.openfn.org/inbox/123&quot;
})
</code></pre>
<h4>Reference on how to read data values https://docs.dhis2.org/2.22/en/developer/html/ch01s13.html#d5e1642</h4>
<p><a href="docs/index">Docs</a></p>
<h2>Development</h2>
<p>Clone the repo, run <code>npm install</code>.</p>
<p>Run tests using <code>npm run test</code> or <code>npm run test:watch</code></p>
<p>Build the project using <code>make</code>.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="configMigrationHelper.html">configMigrationHelper</a></li><li><a href="createTEI.html">createTEI</a></li><li><a href="dataElement.html">dataElement</a></li><li><a href="dataValueSet.html">dataValueSet</a></li><li><a href="enroll.html">enroll</a></li><li><a href="event.html">event</a></li><li><a href="execute.html">execute</a></li><li><a href="fetchAnalytics.html">fetchAnalytics</a></li><li><a href="fetchData.html">fetchData</a></li><li><a href="fetchEvents.html">fetchEvents</a></li><li><a href="updateTEI.html">updateTEI</a></li><li><a href="upsertTEI.html">upsertTEI</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Mon Dec 14 2020 11:14:52 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>